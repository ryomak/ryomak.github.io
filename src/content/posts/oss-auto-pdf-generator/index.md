---
title: "OSS: 自動でスクショを撮ってPDFを作成するツール"
published: 2024-05-04
description: "ゴールデンウィークで、自動でスクショを撮ってPDFを作成するツールを作成しました"
tags: [tech,oss]
category: Works
draft: false
image: "./cover.webp"
---

# 自動でスクショを撮ってPDFを作成するツールを作成
::github{repo="ryomak/auto-pdf-generator"}


## 背景
普段、電子書籍(Kindle)をiPadで読んでいるのですが、
ラインは引けたりするのですが、ふと、手書きでメモを取りたいと思うことがありました。
今回は、電子書籍を手書きでメモを取れるようにするために、ツールを作ることにしました。

## ゴール
電子書籍をiPadのアプリで開き書き込めるようにするために 電子書籍をPDFに変換する

:::caution   
作るにあたって、Kindleの規約に抵触しないかどうかをサポートに問い合わせました。

個人利用の範疇において、電子書籍のスクリーンショットを撮ってPDFにすることは問題ないとのことでした。
このアプリで起きた損害はおいかねます。利用は自己責任でお願いします。


![](https://github.com/ryomak/auto-pdf-generator/assets/21288308/b61c08e0-229c-4568-9d56-bf9f16ede6a8)
:::


## 合わせて実現したい
Kindle専用でも良いのですが、今後も読書以外で、スクショからPDFを作ることはあると思うので、汎用的なツールにしました。

## 使い方
### インストール
```bash
make install

## cliバージョン
make build-cli

## GUIバージョン
## macでのみ動作確認済み
make build-desktop
```
:::note
技術周りがわからない方はXなどでDMを送っていただけるとdesktopの実行ファイルをお送りします。
:::


### 対象のアプリを開く
Kindleなど、スクリーンショットを撮りたいアプリを開いてください。
対象のドキュメントを開いた状態で次のステップに進んでください。

### 設定入力
| オプション       | 説明                                               |
|-------------|--------------------------------------------------| 
| 出力先ファイル     | 生成するPDFのファイル名を入力。絶対パスも指定可能です                     |
| 最終ページ       | 対象ドキュメントのページ数(何回スクショを取るか)                        |
| 起動アプリ       | 起動するアプリ名。デフォルトはKindleですが、Chromeなどmacのアプリの指定が可能です |
| 次へ進む時のアクション | 次のページに進むためのアクション。押すキーに一致しています。                   |
| 移動時間        | スクショと次へ進むアクションの待機時間です。デフォルトは300で問題ないです。          |


### 実行
実行ボタンを押すと、スクショを撮りながらPDFを生成します。

:::tip
macだと権限が必要だと思うので、適宜必要になったものは許可してください。
:::

実行すると、最初に、スクショの範囲をクリックで指定します。
音声に従って、左上と右下の順番でを指定してください。

### 実行中の音声ガイド
実行中は画面を移動させることができないため、音声ガイドがついています。
- スクショの範囲を指定するための音声ガイド
- 実行中の進捗状況を教えてくれる音声ガイド
- 実行完了の音声ガイド

### スクショ中のアクション
エンターを押すと、途中でスクショを終了します。

### 実行結果
PDFが生成されると、自動で開きます。


## 実行例
<video src="https://github.com/ryomak/auto-pdf-generator/assets/21288308/f6316c14-067a-45ea-9247-4f681938d2c2" controls></video>

## 最後に
Kindle以外にも色々なシーンでスクショをとって、PDFにすることができます。

`よければレポジトリにスターをつけていただけると嬉しいです。`  

また、バグや改善点などありましたら、IssueやPRをお待ちしております。


::github{repo="ryomak/auto-pdf-generator"}
